<html>
<head>
    <title>FAKE CRM</title>
    <script language="javascript" type="text/javascript">
        function mypage_onload() {
            info.value = "";
        
            appendText("--- URL parameters ------------------------------------------------");
            appendText("\r\n");

            window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function (m, key, value) {
                appendText("Key: " + key + ", Value: " + value);
                appendText("\r\n");
            });
        }

        function appendText(txt) {
            info.value = info.value + txt;
        }

        function updateKvp(){
            appendText("--- Update kvp ---");
            appendText("\r\n");

            try {
                appendText("Key: " + kvpkey.value + ", Value: " + kvpvalue.value);
                appendText("\r\n");

                updateAttachedData(kvpkey.value,kvpvalue.value);

                appendText("--- DONE ---");
                appendText("\r\n");
              } catch (e) {
                appendText("--- ERROR ---");
                appendText("\r\n");
                appendText(e);
                appendText("\r\n");
              }
        }
    </script>
</head>
<body onload="mypage_onload();">
    <h1>FAKE CRM</h1>
    <table>
        <tr>
            <td>
                <textarea id="info" rows="20" cols="80"></textarea>
            </td>
        </tr>
    </table>

    <table>
        <tr>
            <td colspan="3">
                <h1>Update interaction's data</h1>
            </td>
        </tr>
        <tr>
            <td>
                Key: <input id="kvpkey" placeholder="KEY"/>
            </td>
            <td>
                Value: <input id="kvpvalue" placeholder="VALUE"/>
            </td>
            <td>
                <button onclick="updateKvp();">Update KVP</button>
            </td>
        </tr>
    </table>
</body>
</html>